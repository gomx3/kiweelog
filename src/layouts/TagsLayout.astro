---
import { getCollection } from 'astro:content'
import Tags from '../components/Tags.astro'
import BaseLayout from './BaseLayout.astro'

const allPosts = await getCollection('blog')
const tags = [...new Set(allPosts.map((post: any) => post.data.tags).flat())]
---

<BaseLayout>
    <div class="flex flex-col gap-12">
        <div class="flex flex-col gap-4">
            <h1 class="text-3xl font-bold text-center">🏷️ Tags</h1>
            <p class="text-center text-stone-600 dark:text-stone-400">
                총 {tags.length}개의 태그가 있습니다.
            </p>
        </div>

        <Tags tags={tags} />

        <slot />
    </div>
</BaseLayout>
